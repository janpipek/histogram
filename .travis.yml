language: python
sudo: required

python:
  - "3.5"

services:
  - docker

git:
  depth: 3

install:
  - docker pull fedora
  - pip install -U coveralls

script:
  - >
    docker run -t -v ${PWD}:${PWD}:Z fedora /bin/sh -c
    "dnf install -qy git python3-{numpy,scipy,pillow,matplotlib,h5py,root,tox};
    python3 -mpip install -U pip;
    python3 -mpip install -U numpy scipy pillow matplotlib h5py root tox;
    cd ${PWD};
    tox -epy35;"

after_script:
    - coveralls
